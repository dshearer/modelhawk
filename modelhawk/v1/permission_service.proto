syntax = "proto3";
package modelhawk.v1;

option go_package = "github.com/dshearer/modelhawk/v1";

import "application.proto";
import "message.proto";

message WantsToCallToolRequest {
  optional Application app = 1;
  optional string tool_name = 2;
  map<string, string> args = 3;
  repeated Message last_messages= 4;
}

message WantsToCallToolResponse {
  optional bool permitted = 1;
  optional string details = 2;
}

/**
 * PermissionService is a service that AI apps can use to ask the security service for permission to do stuff.
 */
service PermissionService {
  /// The AI app wants to call a tool. The security service can approve or deny it.
  rpc WantsToCallTool(WantsToCallToolRequest) returns (WantsToCallToolResponse);
}